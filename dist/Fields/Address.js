"use strict";var _interopRequireWildcard3=require("@babel/runtime/helpers/interopRequireWildcard"),_interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=void 0;var _interopRequireWildcard2=_interopRequireDefault(require("@babel/runtime/helpers/interopRequireWildcard")),_slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray")),_objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties")),_react=_interopRequireWildcard3(require("react")),_reactSelect=_interopRequireDefault(require("react-select")),_InputLabel=_interopRequireDefault(require("../FormElements/InputLabel")),_default=function(a){function b(){Promise.resolve().then(function(){return(0,_interopRequireWildcard2["default"])(require("i18n-iso-countries"))}).then(function(a){a.registerLocale(require("i18n-iso-countries/langs/".concat(o?o:"en",".json")));var b=Object.values(a.getNames(o?o:"en",{select:"official"})).map(function(b){return b}).sort(function(c,a){return c.localeCompare(a)});G(b)})["catch"](function(a){return console.log(a)})}var c=a.field,d=a.value,e=a.validationMessage,f=a.touched,g=a.setTouched,h=a.hideField,i=a.updateForm,j=a.styledComponents,k=a.error,l=a.unsetError,m=a.setFocusClass,n=a.cssClass,o=a.language,p=(0,_objectWithoutProperties2["default"])(a,["field","value","validationMessage","touched","setTouched","hideField","updateForm","styledComponents","error","unsetError","setFocusClass","cssClass","language"]),q=c.id,r=c.formId,s=c.type,t=c.label,u=c.placeholder,v=c.isRequired,w=c.inputs,x=c.maxLength,y=c.description,z=c.descriptionPlacement,A=c.labelPlacement,B=c.width,C=c.customName,D=(0,_react.useState)([]),E=(0,_slicedToArray2["default"])(D,2),F=E[0],G=E[1],H=j||!1,I=H.Input,J=void 0===I?"input":I,K=H.Label,L=void 0===K?"label":K,M=H.Box,N=void 0===M?"div":M,O=H.ReactSelect,P=O||_reactSelect["default"],Q=function(a){var b=a&&a.target?a:{target:{value:a}};i(b,c)};return(0,_react.useEffect)(function(){b()},[]),_react["default"].createElement(N,{width:B,className:e&&f||k?"form-field error ".concat(n):"form-field ".concat(n),style:{display:h?"none":void 0}},null===w||void 0===w?void 0:w.map(function(a,b){return!a.isHidden&&_react["default"].createElement("div",{className:s,key:a.id},_react["default"].createElement(_InputLabel["default"],{formId:r,id:a.id,label:a.label,labelPlacement:A,isRequired:v,styledComponent:j}),"above"===z&&y&&_react["default"].createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:y}}),5===b&&F?_react["default"].createElement(P,{onChange:function onChange(b){Q(b),l(a.id)},onBlur:function onBlur(b){i(b,c),g(a.id),m(""!==d)},onFocus:function onFocus(){return m(!0)},options:F.map(function(a){return{label:a,value:a}})},F.map(function(a){return _react["default"].createElement("option",{value:a},a)})):_react["default"].createElement(J,{id:"input_".concat(r,"_").concat(a.id),key:a.id,name:C||"input_".concat(a.id),type:s,value:d?d[a.id]:"",placeholder:a.placeholder,maxLength:x,required:v,onChange:function onChange(b){i(b,c,a.id),l(a.id)},onBlur:function onBlur(b){i(b,c),g(a.id),m(""!==d)},onFocus:function onFocus(){return m(!0)},"aria-label":a.label,"aria-describedby":"error_".concat(r,"_").concat(a.id),"aria-invalid":!!e&&f||!!k}),"above"!==z&&y&&_react["default"].createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:y}}),(e&&f||k)&&_react["default"].createElement("span",{className:"error-message",id:"error_".concat(r,"_").concat(q)},e||k))}))};exports["default"]=_default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9GaWVsZHMvQWRkcmVzcy5qc3giXSwibmFtZXMiOlsiZ2V0Q291bnRyaWVzIiwidGhlbiIsImNvdW50cmllcyIsInJlZ2lzdGVyTG9jYWxlIiwicmVxdWlyZSIsImxhbmd1YWdlIiwibmFtZXMiLCJPYmplY3QiLCJ2YWx1ZXMiLCJnZXROYW1lcyIsInNlbGVjdCIsIm1hcCIsImEiLCJzb3J0IiwiYiIsImxvY2FsZUNvbXBhcmUiLCJzZXROYW1lcyIsImVycm9yIiwiY29uc29sZSIsImxvZyIsImZpZWxkIiwidmFsdWUiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsInRvdWNoZWQiLCJzZXRUb3VjaGVkIiwiaGlkZUZpZWxkIiwidXBkYXRlRm9ybSIsInN0eWxlZENvbXBvbmVudHMiLCJ1bnNldEVycm9yIiwic2V0Rm9jdXNDbGFzcyIsImNzc0NsYXNzIiwicHJvcHMiLCJpZCIsImZvcm1JZCIsInR5cGUiLCJsYWJlbCIsInBsYWNlaG9sZGVyIiwiaXNSZXF1aXJlZCIsImlucHV0cyIsIm1heExlbmd0aCIsImRlc2NyaXB0aW9uIiwiZGVzY3JpcHRpb25QbGFjZW1lbnQiLCJsYWJlbFBsYWNlbWVudCIsIndpZHRoIiwiY3VzdG9tTmFtZSIsImNvdW50cnlOYW1lcyIsIklucHV0IiwiTGFiZWwiLCJCb3giLCJSZWFjdFNlbGVjdCIsIlJTZWxlY3QiLCJTZWxlY3QiLCJoYW5kbGVDaGFuZ2UiLCJvcHRpb24iLCJldmVudCIsInRhcmdldCIsImRpc3BsYXkiLCJpbnB1dCIsImtleSIsImlzSGlkZGVuIiwiX19odG1sIiwiaXRlbSIsImNvdW50cnkiXSwibWFwcGluZ3MiOiJ1dkJBSWUsV0FlVCxDQW1CSixRQUFTQSxDQUFBQSxDQUFULEVBQXdCLENBRXRCLHdGQUFPLG9CQUFQLEtBQ0dDLElBREgsQ0FDUSxTQUFBQyxDQUFTLENBQUksQ0FDakJBLENBQVMsQ0FBQ0MsY0FBVixDQUNFQyxPQUFPLG9DQUE2QkMsQ0FBUSxDQUFHQSxDQUFILENBQWMsSUFB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QUN0QixLQW5CcEIsQ0FvQkUsbUNBQTJCRixDQUEzQixhQUFxQ3dCLENBQUssQ0FBQ3pCLEVBQTNDLENBcEJGLENBcUJFLGVBQWUsQ0FBQyxDQUFDVixDQUFGLEVBQXVCQyxDQUF4QixFQUFvQyxDQUFDLENBQUNOLENBckJ0RCxFQXBDSixDQTRENEIsT0FBekIsR0FBQXdCLENBQW9CLEVBQWdCRCxDQUFwQyxFQUNDLHVDQUNFLFNBQVMsQ0FBQyxhQURaLENBRUUsdUJBQXVCLENBQUUsQ0FBRW9CLE1BQU0sQ0FBRXBCLENBQVYsQ0FGM0IsRUE3REosQ0FrRUcsQ0FBRWxCLENBQWlCLEVBQUlDLENBQXRCLEVBQWtDTixDQUFuQyxHQUNDLHdDQUFNLFNBQVMsQ0FBQyxlQUFoQixDQUFnQyxFQUFFLGlCQUFXZ0IsQ0FBWCxhQUFxQkQsQ0FBckIsQ0FBbEMsRUFDR1YsQ0FBaUIsRUFBSUwsQ0FEeEIsQ0FuRUosQ0FGSixDQURELENBVEgsQ0F3RkgsQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCBTZWxlY3QgZnJvbSBcInJlYWN0LXNlbGVjdFwiO1xyXG5pbXBvcnQgSW5wdXRMYWJlbCBmcm9tIFwiLi4vRm9ybUVsZW1lbnRzL0lucHV0TGFiZWxcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0ICh7XHJcbiAgZmllbGQsXHJcbiAgdmFsdWUsXHJcbiAgdmFsaWRhdGlvbk1lc3NhZ2UsXHJcbiAgdG91Y2hlZCxcclxuICBzZXRUb3VjaGVkLFxyXG4gIGhpZGVGaWVsZCxcclxuICB1cGRhdGVGb3JtLFxyXG4gIHN0eWxlZENvbXBvbmVudHMsXHJcbiAgZXJyb3IsXHJcbiAgdW5zZXRFcnJvcixcclxuICBzZXRGb2N1c0NsYXNzLFxyXG4gIGNzc0NsYXNzLFxyXG4gIGxhbmd1YWdlLFxyXG4gIC4uLnByb3BzXHJcbn0pID0+IHtcclxuICBjb25zdCB7XHJcbiAgICBpZCxcclxuICAgIGZvcm1JZCxcclxuICAgIHR5cGUsXHJcbiAgICBsYWJlbCxcclxuICAgIHBsYWNlaG9sZGVyLFxyXG4gICAgaXNSZXF1aXJlZCxcclxuICAgIGlucHV0cyxcclxuICAgIG1heExlbmd0aCxcclxuICAgIGRlc2NyaXB0aW9uLFxyXG4gICAgZGVzY3JpcHRpb25QbGFjZW1lbnQsXHJcbiAgICBsYWJlbFBsYWNlbWVudCxcclxuICAgIHdpZHRoLFxyXG4gICAgY3VzdG9tTmFtZSxcclxuICB9ID0gZmllbGQ7XHJcblxyXG4gIGNvbnN0IFtjb3VudHJ5TmFtZXMsIHNldE5hbWVzXSA9IHVzZVN0YXRlKFtdKTtcclxuXHJcbiAgZnVuY3Rpb24gZ2V0Q291bnRyaWVzKCkge1xyXG4gICAgLy8gRHluYW1pYyBpbXBvcnRcclxuICAgIGltcG9ydChcImkxOG4taXNvLWNvdW50cmllc1wiKVxyXG4gICAgICAudGhlbihjb3VudHJpZXMgPT4ge1xyXG4gICAgICAgIGNvdW50cmllcy5yZWdpc3RlckxvY2FsZShcclxuICAgICAgICAgIHJlcXVpcmUoYGkxOG4taXNvLWNvdW50cmllcy9sYW5ncy8ke2xhbmd1YWdlID8gbGFuZ3VhZ2UgOiBcImVuXCJ9Lmpzb25gKVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGNvbnN0IG5hbWVzID0gT2JqZWN0LnZhbHVlcyhcclxuICAgICAgICAgIGNvdW50cmllcy5nZXROYW1lcyhsYW5ndWFnZSA/IGxhbmd1YWdlIDogXCJlblwiLCB7IHNlbGVjdDogXCJvZmZpY2lhbFwiIH0pXHJcbiAgICAgICAgKVxyXG4gICAgICAgICAgLm1hcChhID0+IGEpXHJcbiAgICAgICAgICAuc29ydCgoYSwgYikgPT4gYS5sb2NhbGVDb21wYXJlKGIpKTtcclxuXHJcbiAgICAgICAgc2V0TmFtZXMobmFtZXMpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goZXJyb3IgPT4gY29uc29sZS5sb2coZXJyb3IpKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHtcclxuICAgIElucHV0ID0gXCJpbnB1dFwiLFxyXG4gICAgTGFiZWwgPSBcImxhYmVsXCIsXHJcbiAgICBCb3ggPSBcImRpdlwiLFxyXG4gICAgUmVhY3RTZWxlY3QsXHJcbiAgfSA9IHN0eWxlZENvbXBvbmVudHMgfHwgZmFsc2U7XHJcblxyXG4gIGNvbnN0IFJTZWxlY3QgPSBSZWFjdFNlbGVjdCB8fCBTZWxlY3Q7XHJcblxyXG4gIGNvbnN0IGhhbmRsZUNoYW5nZSA9IG9wdGlvbiA9PiB7XHJcbiAgICBjb25zdCBldmVudCA9XHJcbiAgICAgIG9wdGlvbiAmJiBvcHRpb24udGFyZ2V0XHJcbiAgICAgICAgPyBvcHRpb25cclxuICAgICAgICA6IHtcclxuICAgICAgICAgICAgdGFyZ2V0OiB7XHJcbiAgICAgICAgICAgICAgdmFsdWU6IG9wdGlvbixcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgIH07XHJcbiAgICB1cGRhdGVGb3JtKGV2ZW50LCBmaWVsZCk7XHJcbiAgfTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGdldENvdW50cmllcygpO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxCb3hcclxuICAgICAgd2lkdGg9e3dpZHRofVxyXG4gICAgICBjbGFzc05hbWU9e1xyXG4gICAgICAgICh2YWxpZGF0aW9uTWVzc2FnZSAmJiB0b3VjaGVkKSB8fCBlcnJvclxyXG4gICAgICAgICAgPyBgZm9ybS1maWVsZCBlcnJvciAke2Nzc0NsYXNzfWBcclxuICAgICAgICAgIDogYGZvcm0tZmllbGQgJHtjc3NDbGFzc31gXHJcbiAgICAgIH1cclxuICAgICAgc3R5bGU9e3sgZGlzcGxheTogaGlkZUZpZWxkID8gXCJub25lXCIgOiB1bmRlZmluZWQgfX1cclxuICAgID5cclxuICAgICAge2lucHV0cz8ubWFwKFxyXG4gICAgICAgIChpbnB1dCwga2V5KSA9PlxyXG4gICAgICAgICAgIWlucHV0LmlzSGlkZGVuICYmIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3R5cGV9IGtleT17aW5wdXQuaWR9PlxyXG4gICAgICAgICAgICAgIDxJbnB1dExhYmVsXHJcbiAgICAgICAgICAgICAgICBmb3JtSWQ9e2Zvcm1JZH1cclxuICAgICAgICAgICAgICAgIGlkPXtpbnB1dC5pZH1cclxuICAgICAgICAgICAgICAgIGxhYmVsPXtpbnB1dC5sYWJlbH1cclxuICAgICAgICAgICAgICAgIGxhYmVsUGxhY2VtZW50PXtsYWJlbFBsYWNlbWVudH1cclxuICAgICAgICAgICAgICAgIGlzUmVxdWlyZWQ9e2lzUmVxdWlyZWR9XHJcbiAgICAgICAgICAgICAgICBzdHlsZWRDb21wb25lbnQ9e3N0eWxlZENvbXBvbmVudHN9XHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICB7ZGVzY3JpcHRpb25QbGFjZW1lbnQgPT09IFwiYWJvdmVcIiAmJiBkZXNjcmlwdGlvbiAmJiAoXHJcbiAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImRlc2NyaXB0aW9uXCJcclxuICAgICAgICAgICAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBkZXNjcmlwdGlvbiB9fVxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgIHtrZXkgPT09IDUgJiYgY291bnRyeU5hbWVzID8gKFxyXG4gICAgICAgICAgICAgICAgPFJTZWxlY3RcclxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2V2ZW50ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVDaGFuZ2UoZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHVuc2V0RXJyb3IoaW5wdXQuaWQpO1xyXG4gICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICBvbkJsdXI9e2V2ZW50ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVGb3JtKGV2ZW50LCBmaWVsZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VG91Y2hlZChpbnB1dC5pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0Rm9jdXNDbGFzcyh2YWx1ZSAhPT0gXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgIG9uRm9jdXM9eygpID0+IHNldEZvY3VzQ2xhc3ModHJ1ZSl9XHJcbiAgICAgICAgICAgICAgICAgIG9wdGlvbnM9e2NvdW50cnlOYW1lcy5tYXAoaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgbGFiZWw6IGl0ZW0sIHZhbHVlOiBpdGVtIH07XHJcbiAgICAgICAgICAgICAgICAgIH0pfVxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICB7Y291bnRyeU5hbWVzLm1hcChjb3VudHJ5ID0+IChcclxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPXtjb3VudHJ5fT57Y291bnRyeX08L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgICAgICA8L1JTZWxlY3Q+XHJcbiAgICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICAgIDxJbnB1dFxyXG4gICAgICAgICAgICAgICAgICBpZD17YGlucHV0XyR7Zm9ybUlkfV8ke2lucHV0LmlkfWB9XHJcbiAgICAgICAgICAgICAgICAgIGtleT17aW5wdXQuaWR9XHJcbiAgICAgICAgICAgICAgICAgIG5hbWU9e2N1c3RvbU5hbWUgfHwgYGlucHV0XyR7aW5wdXQuaWR9YH1cclxuICAgICAgICAgICAgICAgICAgdHlwZT17dHlwZX1cclxuICAgICAgICAgICAgICAgICAgdmFsdWU9eyF2YWx1ZSA/IFwiXCIgOiB2YWx1ZVtpbnB1dC5pZF19XHJcbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtpbnB1dC5wbGFjZWhvbGRlcn1cclxuICAgICAgICAgICAgICAgICAgbWF4TGVuZ3RoPXttYXhMZW5ndGh9XHJcbiAgICAgICAgICAgICAgICAgIHJlcXVpcmVkPXtpc1JlcXVpcmVkfVxyXG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZXZlbnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUZvcm0oZXZlbnQsIGZpZWxkLCBpbnB1dC5pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdW5zZXRFcnJvcihpbnB1dC5pZCk7XHJcbiAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgIG9uQmx1cj17ZXZlbnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUZvcm0oZXZlbnQsIGZpZWxkKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXRUb3VjaGVkKGlucHV0LmlkKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXRGb2N1c0NsYXNzKHZhbHVlICE9PSBcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgb25Gb2N1cz17KCkgPT4gc2V0Rm9jdXNDbGFzcyh0cnVlKX1cclxuICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17aW5wdXQubGFiZWx9XHJcbiAgICAgICAgICAgICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9e2BlcnJvcl8ke2Zvcm1JZH1fJHtpbnB1dC5pZH1gfVxyXG4gICAgICAgICAgICAgICAgICBhcmlhLWludmFsaWQ9eyghIXZhbGlkYXRpb25NZXNzYWdlICYmIHRvdWNoZWQpIHx8ICEhZXJyb3J9XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAge2Rlc2NyaXB0aW9uUGxhY2VtZW50ICE9PSBcImFib3ZlXCIgJiYgZGVzY3JpcHRpb24gJiYgKFxyXG4gICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJkZXNjcmlwdGlvblwiXHJcbiAgICAgICAgICAgICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogZGVzY3JpcHRpb24gfX1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICB7KCh2YWxpZGF0aW9uTWVzc2FnZSAmJiB0b3VjaGVkKSB8fCBlcnJvcikgJiYgKFxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZXJyb3ItbWVzc2FnZVwiIGlkPXtgZXJyb3JfJHtmb3JtSWR9XyR7aWR9YH0+XHJcbiAgICAgICAgICAgICAgICAgIHt2YWxpZGF0aW9uTWVzc2FnZSB8fCBlcnJvcn1cclxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIClcclxuICAgICAgKX1cclxuICAgIDwvQm94PlxyXG4gICk7XHJcbn07XHJcbiJdfQ==