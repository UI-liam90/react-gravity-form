"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault"),_typeof=require("@babel/runtime/helpers/typeof");Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),_slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray")),_objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties")),_react=_interopRequireWildcard(require("react")),_reactDropzone=require("react-dropzone"),_excluded=["dropzoneText"];function _getRequireWildcardCache(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(_getRequireWildcardCache=function(a){return a?c:b})(a)}function _interopRequireWildcard(a,b){if(!b&&a&&a.__esModule)return a;if(null===a||"object"!==_typeof(a)&&"function"!=typeof a)return{default:a};var c=_getRequireWildcardCache(b);if(c&&c.has(a))return c.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if("default"!=f&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}return d["default"]=a,c&&c.set(a,d),d}function Accept(a){var b=a.dropzoneText,c=(0,_objectWithoutProperties2["default"])(a,_excluded),d=c.field,e=(d||[]).defaultValue,f=(0,_react.useState)(e?[e]:[]),g=(0,_slicedToArray2["default"])(f,2),h=g[0],i=g[1],j=(0,_react.useState)("dropzone"),k=(0,_slicedToArray2["default"])(j,2),l=k[0],m=k[1],n=(0,_reactDropzone.useDropzone)({accept:"image/*",onDrop:function onDrop(a){var b=c.id,d=c.formID,e=c.field,f=c.isRequired,g=c.updateForm,h=c.setTouched,j=c.unsetError;i(a.map(function(a){return Object.assign(a,{preview:URL.createObjectURL(a)})})),g(a,e),h(b),j(b)},onDragOver:function onDragOver(){m("dropzone over")},onDragLeave:function onDragLeave(){m("dropzone")},onDropAccepted:function onDropAccepted(){m("dropzone")}}),o=n.getRootProps,p=n.getInputProps,q=n.isDragActive,r=n.isDragAccept,s=n.isDragReject,t=h&&0<!!h.length&&h.map(function(a){return _react["default"].createElement("div",{key:a.name},_react["default"].createElement("div",null,_react["default"].createElement("img",{src:a.preview})))}),u=c.id,v=c.formID,w=c.isRequired;(0,_react.useEffect)(function(){return function(){h.forEach(function(a){return URL.revokeObjectURL(a.preview)})}},[h]);return _react["default"].createElement("div",{className:"container"},_react["default"].createElement("div",o({className:l}),_react["default"].createElement("input",(0,_extends2["default"])({id:"input_".concat(v,"_").concat(u),name:"input_".concat(u),type:"file",required:w},p())),t&&_react["default"].createElement("div",{className:"preview"},t),_react["default"].createElement("p",{dangerouslySetInnerHTML:{__html:b||"Drag 'n' drop some files here, or click to select files"}})))}var _default=Accept;exports["default"]=_default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJBY2NlcHQiLCJhIiwiZHJvcHpvbmVUZXh0IiwicHJvcHMiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyIiwiX2V4Y2x1ZGVkIiwiZmllbGQiLCJkZWZhdWx0VmFsdWUiLCJmIiwidXNlU3RhdGUiLCJnIiwiX3NsaWNlZFRvQXJyYXkyIiwiZmlsZXMiLCJzZXRGaWxlcyIsImoiLCJrIiwiY3NzQ2xhc3MiLCJzZXRjc3NDbGFzcyIsIm4iLCJ1c2VEcm9wem9uZSIsImFjY2VwdCIsIm9uRHJvcCIsImV2ZW50IiwiaWQiLCJmb3JtSUQiLCJpc1JlcXVpcmVkIiwidXBkYXRlRm9ybSIsInNldFRvdWNoZWQiLCJ1bnNldEVycm9yIiwibWFwIiwiZmlsZSIsIk9iamVjdCIsImFzc2lnbiIsInByZXZpZXciLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJvbkRyYWdPdmVyIiwib25EcmFnTGVhdmUiLCJvbkRyb3BBY2NlcHRlZCIsImdldFJvb3RQcm9wcyIsImdldElucHV0UHJvcHMiLCJpc0RyYWdBY3RpdmUiLCJpc0RyYWdBY2NlcHQiLCJpc0RyYWdSZWplY3QiLCJ0aHVtYnMiLCJsZW5ndGgiLCJfcmVhY3QiLCJjcmVhdGVFbGVtZW50Iiwia2V5IiwibmFtZSIsInNyYyIsInVzZUVmZmVjdCIsImZvckVhY2giLCJyZXZva2VPYmplY3RVUkwiLCJjbGFzc05hbWUiLCJfZXh0ZW5kczIiLCJjb25jYXQiLCJ0eXBlIiwicmVxdWlyZWQiLCJkYW5nZXJvdXNseVNldElubmVySFRNTCIsIl9faHRtbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9GaWVsZHMvRmlsZXVwbG9hZC9HRkRyb3B6b25lLmpzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZURyb3B6b25lIH0gZnJvbSAncmVhY3QtZHJvcHpvbmUnO1xuXG5mdW5jdGlvbiBBY2NlcHQoeyBkcm9wem9uZVRleHQsIC4uLnByb3BzIH0pIHtcbiAgY29uc3QgeyBmaWVsZCB9ID0gcHJvcHM7XG4gIGNvbnN0IHsgZGVmYXVsdFZhbHVlIH0gPSBmaWVsZCB8fCBbXTtcbiAgY29uc3QgW2ZpbGVzLCBzZXRGaWxlc10gPSB1c2VTdGF0ZShkZWZhdWx0VmFsdWUgPyBbZGVmYXVsdFZhbHVlXSA6IFtdKTtcbiAgY29uc3QgW2Nzc0NsYXNzLCBzZXRjc3NDbGFzc10gPSB1c2VTdGF0ZSgnZHJvcHpvbmUnKTtcbiAgY29uc3Qge1xuIGdldFJvb3RQcm9wcywgZ2V0SW5wdXRQcm9wcywgaXNEcmFnQWN0aXZlLCBpc0RyYWdBY2NlcHQsIGlzRHJhZ1JlamVjdCBcbn0gPSB1c2VEcm9wem9uZSh7XG4gICAgYWNjZXB0OiAnaW1hZ2UvKicsXG4gICAgb25Ecm9wOiAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHtcbiBpZCwgZm9ybUlELCBmaWVsZCwgaXNSZXF1aXJlZCwgdXBkYXRlRm9ybSwgc2V0VG91Y2hlZCwgdW5zZXRFcnJvciBcbn0gPSBwcm9wcztcbiAgICAgIHNldEZpbGVzKFxuICAgICAgICBldmVudC5tYXAoZmlsZSA9PiBPYmplY3QuYXNzaWduKGZpbGUsIHtcbiAgICAgICAgICAgIHByZXZpZXc6IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSksXG4gICAgICAgICAgfSksKSxcbiAgICAgICk7XG4gICAgICB1cGRhdGVGb3JtKGV2ZW50LCBmaWVsZCk7XG4gICAgICBzZXRUb3VjaGVkKGlkKTtcbiAgICAgIHVuc2V0RXJyb3IoaWQpO1xuICAgIH0sXG4gICAgb25EcmFnT3ZlcjogKGV2ZW50KSA9PiB7XG4gICAgICBzZXRjc3NDbGFzcygnZHJvcHpvbmUgb3ZlcicpO1xuICAgIH0sXG4gICAgb25EcmFnTGVhdmU6IChldmVudCkgPT4ge1xuICAgICAgc2V0Y3NzQ2xhc3MoJ2Ryb3B6b25lJyk7XG4gICAgfSxcbiAgICBvbkRyb3BBY2NlcHRlZDogKGV2ZW50KSA9PiB7XG4gICAgICBzZXRjc3NDbGFzcygnZHJvcHpvbmUnKTtcbiAgICB9LFxuICB9KTtcblxuICBjb25zdCB0aHVtYnMgPSAgICBmaWxlc1xuICAgICYmICEhZmlsZXMubGVuZ3RoID4gMFxuICAgICYmIGZpbGVzLm1hcChmaWxlID0+IChcbiAgICAgIDxkaXYga2V5PXtmaWxlLm5hbWV9PlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxpbWcgc3JjPXtmaWxlLnByZXZpZXd9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKSk7XG4gIGNvbnN0IHsgaWQsIGZvcm1JRCwgaXNSZXF1aXJlZCB9ID0gcHJvcHM7XG5cbiAgdXNlRWZmZWN0KFxuICAgICgpID0+ICgpID0+IHtcbiAgICAgIC8vIE1ha2Ugc3VyZSB0byByZXZva2UgdGhlIGRhdGEgdXJpcyB0byBhdm9pZCBtZW1vcnkgbGVha3NcbiAgICAgIGZpbGVzLmZvckVhY2goZmlsZSA9PiBVUkwucmV2b2tlT2JqZWN0VVJMKGZpbGUucHJldmlldykpO1xuICAgIH0sXG4gICAgW2ZpbGVzXSxcbiAgKTtcblxuICBjb25zdCB0ZXh0ID0gZHJvcHpvbmVUZXh0IHx8ICdEcmFnIFxcJ25cXCcgZHJvcCBzb21lIGZpbGVzIGhlcmUsIG9yIGNsaWNrIHRvIHNlbGVjdCBmaWxlcyc7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgPGRpdlxuICAgICAgICB7Li4uZ2V0Um9vdFByb3BzKHtcbiAgICAgICAgICBjbGFzc05hbWU6IGNzc0NsYXNzLFxuICAgICAgICB9KX1cbiAgICAgID5cbiAgICAgICAgPGlucHV0XG4gICAgICAgICAgaWQ9e2BpbnB1dF8ke2Zvcm1JRH1fJHtpZH1gfVxuICAgICAgICAgIG5hbWU9e2BpbnB1dF8ke2lkfWB9XG4gICAgICAgICAgdHlwZT1cImZpbGVcIlxuICAgICAgICAgIHJlcXVpcmVkPXtpc1JlcXVpcmVkfVxuICAgICAgICAgIHsuLi5nZXRJbnB1dFByb3BzKCl9XG4gICAgICAgIC8+XG4gICAgICAgIHt0aHVtYnMgJiYgPGRpdiBjbGFzc05hbWU9XCJwcmV2aWV3XCI+e3RodW1ic308L2Rpdj59XG4gICAgICAgIDxwIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogdGV4dCB9fSAvPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFjY2VwdDtcbiJdLCJtYXBwaW5ncyI6Ind3Q0FHQSxRQUFTLENBQUFBLE1BQU1BLENBQUFDLENBQUEsQ0FBNkIsSUFBMUIsQ0FBQUMsQ0FBWSxDQUFBRCxDQUFBLENBQVpDLFlBQVksQ0FBS0MsQ0FBSyxJQUFBQyx5QkFBQSxhQUFBSCxDQUFBLENBQUFJLFNBQUEsRUFDOUJDLENBQUssQ0FBS0gsQ0FBSyxDQUFmRyxLQUFLLENBQ0xDLENBQVksRUFBS0QsQ0FBSyxFQUFJLEVBQUUsRUFBNUJDLFlBQVksQ0FBQUMsQ0FBQSxDQUNNLEdBQUFDLGVBQVEsRUFBQ0YsQ0FBWSxDQUFHLENBQUNBLENBQVksQ0FBQyxDQUFHLEVBQUUsQ0FBQyxDQUFBRyxDQUFBLElBQUFDLGVBQUEsYUFBQUgsQ0FBQSxJQUEvREksQ0FBSyxDQUFBRixDQUFBLElBQUVHLENBQVEsQ0FBQUgsQ0FBQSxJQUFBSSxDQUFBLENBQ1UsR0FBQUwsZUFBUSxFQUFDLFVBQVUsQ0FBQyxDQUFBTSxDQUFBLElBQUFKLGVBQUEsYUFBQUcsQ0FBQSxJQUE3Q0UsQ0FBUSxDQUFBRCxDQUFBLElBQUVFLENBQVcsQ0FBQUYsQ0FBQSxJQUFBRyxDQUFBLENBRzFCLEdBQUFDLDBCQUFXLEVBQUMsQ0FDWkMsTUFBTSxDQUFFLFNBQVMsQ0FDakJDLE1BQU0sQ0FBRSxTQUFBQSxPQUFDQyxDQUFLLENBQUssQ0FDakIsR0FDTCxDQUFBQyxDQUFFLENBQ0NwQixDQUFLLENBRFJvQixFQUFFLENBQUVDLENBQU0sQ0FDUHJCLENBQUssQ0FESnFCLE1BQU0sQ0FBRWxCLENBQUssQ0FDZEgsQ0FBSyxDQURJRyxL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