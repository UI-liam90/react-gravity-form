"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault"),_typeof=require("@babel/runtime/helpers/typeof");Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),_slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray")),_objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties")),_react=_interopRequireWildcard(require("react")),_reactDropzone=require("react-dropzone"),_excluded=["dropzoneText"];function _getRequireWildcardCache(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(_getRequireWildcardCache=function(a){return a?c:b})(a)}function _interopRequireWildcard(a,b){if(!b&&a&&a.__esModule)return a;if(null===a||"object"!==_typeof(a)&&"function"!=typeof a)return{default:a};var c=_getRequireWildcardCache(b);if(c&&c.has(a))return c.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if("default"!=f&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}return d["default"]=a,c&&c.set(a,d),d}function Accept(a){var b=a.dropzoneText,c=(0,_objectWithoutProperties2["default"])(a,_excluded),d=c.field,e=(d||[]).defaultValue,f=(0,_react.useState)(e?[e]:[]),g=(0,_slicedToArray2["default"])(f,2),h=g[0],i=g[1],j=(0,_react.useState)("dropzone"),k=(0,_slicedToArray2["default"])(j,2),l=k[0],m=k[1],n=(0,_reactDropzone.useDropzone)({accept:"image/*",onDrop:function onDrop(a){var b=c.id,d=c.formID,e=c.field,f=c.isRequired,g=c.updateForm,h=c.setTouched,j=c.unsetError;i(a.map(function(a){return Object.assign(a,{preview:URL.createObjectURL(a)})})),g(a,e),h(b),j(b)},onDragOver:function onDragOver(){m("dropzone over")},onDragLeave:function onDragLeave(){m("dropzone")},onDropAccepted:function onDropAccepted(){m("dropzone")}}),o=n.getRootProps,p=n.getInputProps,q=n.isDragActive,r=n.isDragAccept,s=n.isDragReject,t=h&&0<!!h.length&&h.map(function(a){return _react["default"].createElement("div",{key:a.name},_react["default"].createElement("div",null,_react["default"].createElement("img",{src:a.preview})))}),u=c.id,v=c.formID,w=c.isRequired;(0,_react.useEffect)(function(){return function(){h.forEach(function(a){return URL.revokeObjectURL(a.preview)})}},[h]);return _react["default"].createElement("div",{className:"container"},_react["default"].createElement("div",o({className:l}),_react["default"].createElement("input",(0,_extends2["default"])({id:"input_".concat(v,"_").concat(u),name:"input_".concat(u),type:"file",required:w},p())),t&&_react["default"].createElement("div",{className:"preview"},t),_react["default"].createElement("p",{dangerouslySetInnerHTML:{__html:b||"Drag 'n' drop some files here, or click to select files"}})))}var _default=Accept;exports["default"]=_default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJBY2NlcHQiLCJhIiwiZHJvcHpvbmVUZXh0IiwicHJvcHMiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyIiwiX2V4Y2x1ZGVkIiwiZmllbGQiLCJkZWZhdWx0VmFsdWUiLCJmIiwidXNlU3RhdGUiLCJnIiwiX3NsaWNlZFRvQXJyYXkyIiwiZmlsZXMiLCJzZXRGaWxlcyIsImoiLCJrIiwiY3NzQ2xhc3MiLCJzZXRjc3NDbGFzcyIsIm4iLCJ1c2VEcm9wem9uZSIsImFjY2VwdCIsIm9uRHJvcCIsImV2ZW50IiwiaWQiLCJmb3JtSUQiLCJpc1JlcXVpcmVkIiwidXBkYXRlRm9ybSIsInNldFRvdWNoZWQiLCJ1bnNldEVycm9yIiwibWFwIiwiZmlsZSIsIk9iamVjdCIsImFzc2lnbiIsInByZXZpZXciLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJvbkRyYWdPdmVyIiwib25EcmFnTGVhdmUiLCJvbkRyb3BBY2NlcHRlZCIsImdldFJvb3RQcm9wcyIsImdldElucHV0UHJvcHMiLCJpc0RyYWdBY3RpdmUiLCJpc0RyYWdBY2NlcHQiLCJpc0RyYWdSZWplY3QiLCJ0aHVtYnMiLCJsZW5ndGgiLCJfcmVhY3QiLCJjcmVhdGVFbGVtZW50Iiwia2V5IiwibmFtZSIsInNyYyIsInVzZUVmZmVjdCIsImZvckVhY2giLCJyZXZva2VPYmplY3RVUkwiLCJjbGFzc05hbWUiLCJfZXh0ZW5kczIiLCJjb25jYXQiLCJ0eXBlIiwicmVxdWlyZWQiLCJkYW5nZXJvdXNseVNldElubmVySFRNTCIsIl9faHRtbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9GaWVsZHMvRmlsZXVwbG9hZC9HRkRyb3B6b25lLmpzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgdXNlRHJvcHpvbmUgfSBmcm9tICdyZWFjdC1kcm9wem9uZSc7XHJcblxyXG5mdW5jdGlvbiBBY2NlcHQoeyBkcm9wem9uZVRleHQsIC4uLnByb3BzIH0pIHtcclxuICBjb25zdCB7IGZpZWxkIH0gPSBwcm9wcztcclxuICBjb25zdCB7IGRlZmF1bHRWYWx1ZSB9ID0gZmllbGQgfHwgW107XHJcbiAgY29uc3QgW2ZpbGVzLCBzZXRGaWxlc10gPSB1c2VTdGF0ZShkZWZhdWx0VmFsdWUgPyBbZGVmYXVsdFZhbHVlXSA6IFtdKTtcclxuICBjb25zdCBbY3NzQ2xhc3MsIHNldGNzc0NsYXNzXSA9IHVzZVN0YXRlKCdkcm9wem9uZScpO1xyXG4gIGNvbnN0IHtcclxuIGdldFJvb3RQcm9wcywgZ2V0SW5wdXRQcm9wcywgaXNEcmFnQWN0aXZlLCBpc0RyYWdBY2NlcHQsIGlzRHJhZ1JlamVjdCBcclxufSA9IHVzZURyb3B6b25lKHtcclxuICAgIGFjY2VwdDogJ2ltYWdlLyonLFxyXG4gICAgb25Ecm9wOiAoZXZlbnQpID0+IHtcclxuICAgICAgY29uc3Qge1xyXG4gaWQsIGZvcm1JRCwgZmllbGQsIGlzUmVxdWlyZWQsIHVwZGF0ZUZvcm0sIHNldFRvdWNoZWQsIHVuc2V0RXJyb3IgXHJcbn0gPSBwcm9wcztcclxuICAgICAgc2V0RmlsZXMoXHJcbiAgICAgICAgZXZlbnQubWFwKGZpbGUgPT4gT2JqZWN0LmFzc2lnbihmaWxlLCB7XHJcbiAgICAgICAgICAgIHByZXZpZXc6IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSksXHJcbiAgICAgICAgICB9KSwpLFxyXG4gICAgICApO1xyXG4gICAgICB1cGRhdGVGb3JtKGV2ZW50LCBmaWVsZCk7XHJcbiAgICAgIHNldFRvdWNoZWQoaWQpO1xyXG4gICAgICB1bnNldEVycm9yKGlkKTtcclxuICAgIH0sXHJcbiAgICBvbkRyYWdPdmVyOiAoZXZlbnQpID0+IHtcclxuICAgICAgc2V0Y3NzQ2xhc3MoJ2Ryb3B6b25lIG92ZXInKTtcclxuICAgIH0sXHJcbiAgICBvbkRyYWdMZWF2ZTogKGV2ZW50KSA9PiB7XHJcbiAgICAgIHNldGNzc0NsYXNzKCdkcm9wem9uZScpO1xyXG4gICAgfSxcclxuICAgIG9uRHJvcEFjY2VwdGVkOiAoZXZlbnQpID0+IHtcclxuICAgICAgc2V0Y3NzQ2xhc3MoJ2Ryb3B6b25lJyk7XHJcbiAgICB9LFxyXG4gIH0pO1xyXG5cclxuICBjb25zdCB0aHVtYnMgPSAgICBmaWxlc1xyXG4gICAgJiYgISFmaWxlcy5sZW5ndGggPiAwXHJcbiAgICAmJiBmaWxlcy5tYXAoZmlsZSA9PiAoXHJcbiAgICAgIDxkaXYga2V5PXtmaWxlLm5hbWV9PlxyXG4gICAgICAgIDxkaXY+XHJcbiAgICAgICAgICA8aW1nIHNyYz17ZmlsZS5wcmV2aWV3fSAvPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgICkpO1xyXG4gIGNvbnN0IHsgaWQsIGZvcm1JRCwgaXNSZXF1aXJlZCB9ID0gcHJvcHM7XHJcblxyXG4gIHVzZUVmZmVjdChcclxuICAgICgpID0+ICgpID0+IHtcclxuICAgICAgLy8gTWFrZSBzdXJlIHRvIHJldm9rZSB0aGUgZGF0YSB1cmlzIHRvIGF2b2lkIG1lbW9yeSBsZWFrc1xyXG4gICAgICBmaWxlcy5mb3JFYWNoKGZpbGUgPT4gVVJMLnJldm9rZU9iamVjdFVSTChmaWxlLnByZXZpZXcpKTtcclxuICAgIH0sXHJcbiAgICBbZmlsZXNdLFxyXG4gICk7XHJcblxyXG4gIGNvbnN0IHRleHQgPSBkcm9wem9uZVRleHQgfHwgJ0RyYWcgXFwnblxcJyBkcm9wIHNvbWUgZmlsZXMgaGVyZSwgb3IgY2xpY2sgdG8gc2VsZWN0IGZpbGVzJztcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XHJcbiAgICAgIDxkaXZcclxuICAgICAgICB7Li4uZ2V0Um9vdFByb3BzKHtcclxuICAgICAgICAgIGNsYXNzTmFtZTogY3NzQ2xhc3MsXHJcbiAgICAgICAgfSl9XHJcbiAgICAgID5cclxuICAgICAgICA8aW5wdXRcclxuICAgICAgICAgIGlkPXtgaW5wdXRfJHtmb3JtSUR9XyR7aWR9YH1cclxuICAgICAgICAgIG5hbWU9e2BpbnB1dF8ke2lkfWB9XHJcbiAgICAgICAgICB0eXBlPVwiZmlsZVwiXHJcbiAgICAgICAgICByZXF1aXJlZD17aXNSZXF1aXJlZH1cclxuICAgICAgICAgIHsuLi5nZXRJbnB1dFByb3BzKCl9XHJcbiAgICAgICAgLz5cclxuICAgICAgICB7dGh1bWJzICYmIDxkaXYgY2xhc3NOYW1lPVwicHJldmlld1wiPnt0aHVtYnN9PC9kaXY+fVxyXG4gICAgICAgIDxwIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogdGV4dCB9fSAvPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEFjY2VwdDtcclxuIl0sIm1hcHBpbmdzIjoid3dDQUdBLFFBQVMsQ0FBQUEsTUFBTUEsQ0FBQUMsQ0FBQSxDQUE2QixJQUExQixDQUFBQyxDQUFZLENBQUFELENBQUEsQ0FBWkMsWUFBWSxDQUFLQyxDQUFLLElBQUFDLHlCQUFBLGFBQUFILENBQUEsQ0FBQUksU0FBQSxFQUM5QkMsQ0FBSyxDQUFLSCxDQUFLLENBQWZHLEtBQUssQ0FDTEMsQ0FBWSxFQUFLRCxDQUFLLEVBQUksRUFBRSxFQUE1QkMsWUFBWSxDQUFBQyxDQUFBLENBQ00sR0FBQUMsZUFBUSxFQUFDRixDQUFZLENBQUcsQ0FBQ0EsQ0FBWSxDQUFDLENBQUcsRUFBRSxDQUFDLENBQUFHLENBQUEsSUFBQUMsZUFBQSxhQUFBSCxDQUFBLElBQS9ESSxDQUFLLENBQUFGLENBQUEsSUFBRUcsQ0FBUSxDQUFBSCxDQUFBLElBQUFJLENBQUEsQ0FDVSxHQUFBTCxlQUFRLEVBQUMsVUFBVSxDQUFDLENBQUFNLENBQUEsSUFBQUosZUFBQSxhQUFBRyxDQUFBLElBQTdDRSxDQUFRLENBQUFELENBQUEsSUFBRUUsQ0FBVyxDQUFBRixDQUFBLElBQUFHLENBQUEsQ0FHMUIsR0FBQUMsMEJBQVcsRUFBQyxDQUNaQyxNQUFNLENB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