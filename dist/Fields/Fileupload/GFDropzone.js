"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault"),_typeof=require("@babel/runtime/helpers/typeof");Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),_slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray")),_objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties")),_react=_interopRequireWildcard(require("react")),_reactDropzone=require("react-dropzone"),_uuid=require("uuid"),_excluded=["dropzoneText"];function _getRequireWildcardCache(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(_getRequireWildcardCache=function(a){return a?c:b})(a)}function _interopRequireWildcard(a,b){if(!b&&a&&a.__esModule)return a;if(null===a||"object"!==_typeof(a)&&"function"!=typeof a)return{default:a};var c=_getRequireWildcardCache(b);if(c&&c.has(a))return c.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if("default"!=f&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}return d["default"]=a,c&&c.set(a,d),d}function Accept(a){var b=a.dropzoneText,c=(0,_objectWithoutProperties2["default"])(a,_excluded),d=c.field,e=(d||[]).defaultValue,f=(0,_react.useState)(e?[e]:[]),g=(0,_slicedToArray2["default"])(f,2),h=g[0],i=g[1],j=(0,_react.useState)("dropzone"),k=(0,_slicedToArray2["default"])(j,2),l=k[0],m=k[1],n=(0,_reactDropzone.useDropzone)({accept:"image/*",onDrop:function onDrop(a){var b=c.id,d=c.formID,e=c.field,f=c.isRequired,g=c.updateForm,h=c.setTouched,j=c.unsetError;i(a.map(function(a){return Object.assign(a,{preview:URL.createObjectURL(a)})})),g(a,e),h(b),j(b)},onDragOver:function onDragOver(){m("dropzone over")},onDragLeave:function onDragLeave(){m("dropzone")},onDropAccepted:function onDropAccepted(){m("dropzone")}}),o=n.getRootProps,p=n.getInputProps,q=n.isDragActive,r=n.isDragAccept,s=n.isDragReject,t=h&&0<!!h.length&&h.map(function(a){return _react["default"].createElement("div",{key:(0,_uuid.v4)()},_react["default"].createElement("div",null,_react["default"].createElement("img",{src:a.preview})))}),u=c.id,v=c.formID,w=c.isRequired;(0,_react.useEffect)(function(){return function(){h.forEach(function(a){return URL.revokeObjectURL(a.preview)})}},[h]);return _react["default"].createElement("div",{className:"container"},_react["default"].createElement("div",o({className:l}),_react["default"].createElement("input",(0,_extends2["default"])({id:"input_".concat(v,"_").concat(u),name:"input_".concat(u),type:"file",required:w},p())),t&&_react["default"].createElement("div",{className:"preview"},t),_react["default"].createElement("p",{dangerouslySetInnerHTML:{__html:b||"Drag 'n' drop some files here, or click to select files"}})))}var _default=Accept;exports["default"]=_default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJBY2NlcHQiLCJhIiwiZHJvcHpvbmVUZXh0IiwicHJvcHMiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyIiwiX2V4Y2x1ZGVkIiwiZmllbGQiLCJkZWZhdWx0VmFsdWUiLCJmIiwidXNlU3RhdGUiLCJnIiwiX3NsaWNlZFRvQXJyYXkyIiwiZmlsZXMiLCJzZXRGaWxlcyIsImoiLCJrIiwiY3NzQ2xhc3MiLCJzZXRjc3NDbGFzcyIsIm4iLCJ1c2VEcm9wem9uZSIsImFjY2VwdCIsIm9uRHJvcCIsImV2ZW50IiwiaWQiLCJmb3JtSUQiLCJpc1JlcXVpcmVkIiwidXBkYXRlRm9ybSIsInNldFRvdWNoZWQiLCJ1bnNldEVycm9yIiwibWFwIiwiZmlsZSIsIk9iamVjdCIsImFzc2lnbiIsInByZXZpZXciLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJvbkRyYWdPdmVyIiwib25EcmFnTGVhdmUiLCJvbkRyb3BBY2NlcHRlZCIsImdldFJvb3RQcm9wcyIsImdldElucHV0UHJvcHMiLCJpc0RyYWdBY3RpdmUiLCJpc0RyYWdBY2NlcHQiLCJpc0RyYWdSZWplY3QiLCJ0aHVtYnMiLCJsZW5ndGgiLCJfcmVhY3QiLCJjcmVhdGVFbGVtZW50Iiwia2V5IiwidjQiLCJzcmMiLCJ1c2VFZmZlY3QiLCJmb3JFYWNoIiwicmV2b2tlT2JqZWN0VVJMIiwiY2xhc3NOYW1lIiwiX2V4dGVuZHMyIiwiY29uY2F0IiwibmFtZSIsInR5cGUiLCJyZXF1aXJlZCIsImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MIiwiX19odG1sIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL0ZpZWxkcy9GaWxldXBsb2FkL0dGRHJvcHpvbmUuanN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VEcm9wem9uZSB9IGZyb20gXCJyZWFjdC1kcm9wem9uZVwiO1xuaW1wb3J0IHsgdjQgfSBmcm9tIFwidXVpZFwiO1xuXG5mdW5jdGlvbiBBY2NlcHQoeyBkcm9wem9uZVRleHQsIC4uLnByb3BzIH0pIHtcbiAgY29uc3QgeyBmaWVsZCB9ID0gcHJvcHM7XG4gIGNvbnN0IHsgZGVmYXVsdFZhbHVlIH0gPSBmaWVsZCB8fCBbXTtcbiAgY29uc3QgW2ZpbGVzLCBzZXRGaWxlc10gPSB1c2VTdGF0ZShkZWZhdWx0VmFsdWUgPyBbZGVmYXVsdFZhbHVlXSA6IFtdKTtcbiAgY29uc3QgW2Nzc0NsYXNzLCBzZXRjc3NDbGFzc10gPSB1c2VTdGF0ZShcImRyb3B6b25lXCIpO1xuICBjb25zdCB7XG4gICAgZ2V0Um9vdFByb3BzLFxuICAgIGdldElucHV0UHJvcHMsXG4gICAgaXNEcmFnQWN0aXZlLFxuICAgIGlzRHJhZ0FjY2VwdCxcbiAgICBpc0RyYWdSZWplY3QsXG4gIH0gPSB1c2VEcm9wem9uZSh7XG4gICAgYWNjZXB0OiBcImltYWdlLypcIixcbiAgICBvbkRyb3A6IChldmVudCkgPT4ge1xuICAgICAgY29uc3Qge1xuICAgICAgICBpZCxcbiAgICAgICAgZm9ybUlELFxuICAgICAgICBmaWVsZCxcbiAgICAgICAgaXNSZXF1aXJlZCxcbiAgICAgICAgdXBkYXRlRm9ybSxcbiAgICAgICAgc2V0VG91Y2hlZCxcbiAgICAgICAgdW5zZXRFcnJvcixcbiAgICAgIH0gPSBwcm9wcztcbiAgICAgIHNldEZpbGVzKFxuICAgICAgICBldmVudC5tYXAoKGZpbGUpID0+XG4gICAgICAgICAgT2JqZWN0LmFzc2lnbihmaWxlLCB7XG4gICAgICAgICAgICBwcmV2aWV3OiBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpLFxuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgICB1cGRhdGVGb3JtKGV2ZW50LCBmaWVsZCk7XG4gICAgICBzZXRUb3VjaGVkKGlkKTtcbiAgICAgIHVuc2V0RXJyb3IoaWQpO1xuICAgIH0sXG4gICAgb25EcmFnT3ZlcjogKGV2ZW50KSA9PiB7XG4gICAgICBzZXRjc3NDbGFzcyhcImRyb3B6b25lIG92ZXJcIik7XG4gICAgfSxcbiAgICBvbkRyYWdMZWF2ZTogKGV2ZW50KSA9PiB7XG4gICAgICBzZXRjc3NDbGFzcyhcImRyb3B6b25lXCIpO1xuICAgIH0sXG4gICAgb25Ecm9wQWNjZXB0ZWQ6IChldmVudCkgPT4ge1xuICAgICAgc2V0Y3NzQ2xhc3MoXCJkcm9wem9uZVwiKTtcbiAgICB9LFxuICB9KTtcblxuICBjb25zdCB0aHVtYnMgPVxuICAgIGZpbGVzICYmXG4gICAgISFmaWxlcy5sZW5ndGggPiAwICYmXG4gICAgZmlsZXMubWFwKChmaWxlKSA9PiAoXG4gICAgICA8ZGl2IGtleT17djQoKX0+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGltZyBzcmM9e2ZpbGUucHJldmlld30gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApKTtcbiAgY29uc3QgeyBpZCwgZm9ybUlELCBpc1JlcXVpcmVkIH0gPSBwcm9wcztcblxuICB1c2VFZmZlY3QoXG4gICAgKCkgPT4gKCkgPT4ge1xuICAgICAgLy8gTWFrZSBzdXJlIHRvIHJldm9rZSB0aGUgZGF0YSB1cmlzIHRvIGF2b2lkIG1lbW9yeSBsZWFrc1xuICAgICAgZmlsZXMuZm9yRWFjaCgoZmlsZSkgPT4gVVJMLnJldm9rZU9iamVjdFVSTChmaWxlLnByZXZpZXcpKTtcbiAgICB9LFxuICAgIFtmaWxlc11cbiAgKTtcblxuICBjb25zdCB0ZXh0ID1cbiAgICBkcm9wem9uZVRleHQgfHwgXCJEcmFnICduJyBkcm9wIHNvbWUgZmlsZXMgaGVyZSwgb3IgY2xpY2sgdG8gc2VsZWN0IGZpbGVzXCI7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgPGRpdlxuICAgICAgICB7Li4uZ2V0Um9vdFByb3BzKHtcbiAgICAgICAgICBjbGFzc05hbWU6IGNzc0NsYXNzLFxuICAgICAgICB9KX1cbiAgICAgID5cbiAgICAgICAgPGlucHV0XG4gICAgICAgICAgaWQ9e2BpbnB1dF8ke2Zvcm1JRH1fJHtpZH1gfVxuICAgICAgICAgIG5hbWU9e2BpbnB1dF8ke2lkfWB9XG4gICAgICAgICAgdHlwZT1cImZpbGVcIlxuICAgICAgICAgIHJlcXVpcmVkPXtpc1JlcXVpcmVkfVxuICAgICAgICAgIHsuLi5nZXRJbnB1dFByb3BzKCl9XG4gICAgICAgIC8+XG4gICAgICAgIHt0aHVtYnMgJiYgPGRpdiBjbGFzc05hbWU9XCJwcmV2aWV3XCI+e3RodW1ic308L2Rpdj59XG4gICAgICAgIDxwIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogdGV4dCB9fSAvPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFjY2VwdDtcbiJdLCJtYXBwaW5ncyI6Ijh4Q0FJQSxRQUFTLENBQUFBLE1BQU1BLENBQUFDLENBQUEsQ0FBNkIsSUFBMUIsQ0FBQUMsQ0FBWSxDQUFBRCxDQUFBLENBQVpDLFlBQVksQ0FBS0MsQ0FBSyxJQUFBQyx5QkFBQSxhQUFBSCxDQUFBLENBQUFJLFNBQUEsRUFDOUJDLENBQUssQ0FBS0gsQ0FBSyxDQUFmRyxLQUFLLENBQ0xDLENBQVksRUFBS0QsQ0FBSyxFQUFJLEVBQUUsRUFBNUJDLFlBQVksQ0FBQUMsQ0FBQSxDQUNNLEdBQUFDLGVBQVEsRUFBQ0YsQ0FBWSxDQUFHLENBQUNBLENBQVksQ0FBQyxDQUFHLEVBQUUsQ0FBQyxDQUFBRyxDQUFBLElBQUFDLGVBQUEsYUFBQUgsQ0FBQSxJQUEvREksQ0FBSyxDQUFBRixDQUFBLElBQUVHLENBQVEsQ0FBQUgsQ0FBQSxJQUFBSSxDQUFBLENBQ1UsR0FBQUwsZUFBUSxFQUFDLFVBQVUsQ0FBQyxDQUFBTSxDQUFBLElBQUFKLGVBQUEsYUFBQUcsQ0FBQSxJQUE3Q0UsQ0FBUSxDQUFBRCxDQUFBLElBQUVFLENBQVcsQ0FBQUYsQ0FBQSxJQUFBRyxDQUFBLENBT3hCLEdBQUFDLDBCQUFXLEVBQUMsQ0FDZEMs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