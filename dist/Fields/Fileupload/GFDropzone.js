"use strict";var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard"),_interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),_slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray")),_objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties")),_react=_interopRequireWildcard(require("react")),_reactDropzone=require("react-dropzone");function Accept(a){var b=a.dropzoneText,c=(0,_objectWithoutProperties2["default"])(a,["dropzoneText"]),d=c.field,e=(d||[]).defaultValue,f=(0,_react.useState)(e?[e]:[]),g=(0,_slicedToArray2["default"])(f,2),h=g[0],i=g[1],j=(0,_react.useState)("dropzone"),k=(0,_slicedToArray2["default"])(j,2),l=k[0],m=k[1],n=(0,_reactDropzone.useDropzone)({accept:"image/*",onDrop:function onDrop(a){var b=c.id,d=c.formID,e=c.field,f=c.isRequired,g=c.updateForm,h=c.setTouched,j=c.unsetError;i(a.map(function(a){return Object.assign(a,{preview:URL.createObjectURL(a)})})),g(a,e),h(b),j(b)},onDragOver:function onDragOver(){m("dropzone over")},onDragLeave:function onDragLeave(){m("dropzone")},onDropAccepted:function onDropAccepted(){m("dropzone")}}),o=n.getRootProps,p=n.getInputProps,q=n.isDragActive,r=n.isDragAccept,s=n.isDragReject,t=h&&0<!!h.length&&h.map(function(a){return _react["default"].createElement("div",{key:a.name},_react["default"].createElement("div",null,_react["default"].createElement("img",{src:a.preview})))}),u=c.id,v=c.formID,w=c.isRequired;(0,_react.useEffect)(function(){return function(){h.forEach(function(a){return URL.revokeObjectURL(a.preview)})}},[h]);return _react["default"].createElement("div",{className:"container"},_react["default"].createElement("div",o({className:l}),_react["default"].createElement("input",(0,_extends2["default"])({id:"input_".concat(v,"_").concat(u),name:"input_".concat(u),type:"file",required:w},p())),t&&_react["default"].createElement("div",{className:"preview"},t),_react["default"].createElement("p",{dangerouslySetInnerHTML:{__html:b||"Drag 'n' drop some files here, or click to select files"}})))}var _default=Accept;exports["default"]=_default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9GaWVsZHMvRmlsZXVwbG9hZC9HRkRyb3B6b25lLmpzeCJdLCJuYW1lcyI6WyJBY2NlcHQiLCJkcm9wem9uZVRleHQiLCJwcm9wcyIsImZpZWxkIiwiZGVmYXVsdFZhbHVlIiwiZmlsZXMiLCJzZXRGaWxlcyIsImNzc0NsYXNzIiwic2V0Y3NzQ2xhc3MiLCJhY2NlcHQiLCJvbkRyb3AiLCJldmVudCIsImlkIiwiZm9ybUlEIiwiaXNSZXF1aXJlZCIsInVwZGF0ZUZvcm0iLCJzZXRUb3VjaGVkIiwidW5zZXRFcnJvciIsIm1hcCIsImZpbGUiLCJPYmplY3QiLCJhc3NpZ24iLCJwcmV2aWV3IiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwib25EcmFnT3ZlciIsIm9uRHJhZ0xlYXZlIiwib25Ecm9wQWNjZXB0ZWQiLCJnZXRSb290UHJvcHMiLCJnZXRJbnB1dFByb3BzIiwiaXNEcmFnQWN0aXZlIiwiaXNEcmFnQWNjZXB0IiwiaXNEcmFnUmVqZWN0IiwidGh1bWJzIiwibGVuZ3RoIiwibmFtZSIsImZvckVhY2giLCJyZXZva2VPYmplY3RVUkwiLCJjbGFzc05hbWUiLCJfX2h0bWwiXSwibWFwcGluZ3MiOiJnbkJBR0EsUUFBU0EsQ0FBQUEsTUFBVCxHQUE0QyxJQUExQkMsQ0FBQUEsQ0FBMEIsR0FBMUJBLFlBQTBCLENBQVRDLENBQVMsOERBQ2xDQyxDQURrQyxDQUN4QkQsQ0FEd0IsQ0FDbENDLEtBRGtDLENBRWxDQyxDQUZrQyxFQUVqQkQsQ0FBSyxFQUFJLEVBRlEsRUFFbENDLFlBRmtDLEdBR2hCLG9CQUFTQSxDQUFZLENBQUcsQ0FBQ0EsQ0FBRCxDQUFILENBQW9CLEVBQXpDLENBSGdCLHVDQUduQ0MsQ0FIbUMsTUFHNUJDLENBSDRCLFFBSVYsb0JBQVMsVUFBVCxDQUpVLHVDQUluQ0MsQ0FKbUMsTUFJekJDLENBSnlCLFFBT3hDLCtCQUFZLENBQ1pDLE1BQU0sQ0FBRSxTQURJLENBRVpDLE1BQU0sQ0FBRSxnQkFBQ0MsQ0FBRCxD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ZWFjdCc7XHJcbmltcG9ydCB7IHVzZURyb3B6b25lIH0gZnJvbSAncmVhY3QtZHJvcHpvbmUnO1xyXG5cclxuZnVuY3Rpb24gQWNjZXB0KHsgZHJvcHpvbmVUZXh0LCAuLi5wcm9wcyB9KSB7XHJcbiAgY29uc3QgeyBmaWVsZCB9ID0gcHJvcHM7XHJcbiAgY29uc3QgeyBkZWZhdWx0VmFsdWUgfSA9IGZpZWxkIHx8IFtdO1xyXG4gIGNvbnN0IFtmaWxlcywgc2V0RmlsZXNdID0gdXNlU3RhdGUoZGVmYXVsdFZhbHVlID8gW2RlZmF1bHRWYWx1ZV0gOiBbXSk7XHJcbiAgY29uc3QgW2Nzc0NsYXNzLCBzZXRjc3NDbGFzc10gPSB1c2VTdGF0ZSgnZHJvcHpvbmUnKTtcclxuICBjb25zdCB7XHJcbiBnZXRSb290UHJvcHMsIGdldElucHV0UHJvcHMsIGlzRHJhZ0FjdGl2ZSwgaXNEcmFnQWNjZXB0LCBpc0RyYWdSZWplY3QgXHJcbn0gPSB1c2VEcm9wem9uZSh7XHJcbiAgICBhY2NlcHQ6ICdpbWFnZS8qJyxcclxuICAgIG9uRHJvcDogKGV2ZW50KSA9PiB7XHJcbiAgICAgIGNvbnN0IHtcclxuIGlkLCBmb3JtSUQsIGZpZWxkLCBpc1JlcXVpcmVkLCB1cGRhdGVGb3JtLCBzZXRUb3VjaGVkLCB1bnNldEVycm9yIFxyXG59ID0gcHJvcHM7XHJcbiAgICAgIHNldEZpbGVzKFxyXG4gICAgICAgIGV2ZW50Lm1hcChmaWxlID0+IE9iamVjdC5hc3NpZ24oZmlsZSwge1xyXG4gICAgICAgICAgICBwcmV2aWV3OiBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpLFxyXG4gICAgICAgICAgfSksKSxcclxuICAgICAgKTtcclxuICAgICAgdXBkYXRlRm9ybShldmVudCwgZmllbGQpO1xyXG4gICAgICBzZXRUb3VjaGVkKGlkKTtcclxuICAgICAgdW5zZXRFcnJvcihpZCk7XHJcbiAgICB9LFxyXG4gICAgb25EcmFnT3ZlcjogKGV2ZW50KSA9PiB7XHJcbiAgICAgIHNldGNzc0NsYXNzKCdkcm9wem9uZSBvdmVyJyk7XHJcbiAgICB9LFxyXG4gICAgb25EcmFnTGVhdmU6IChldmVudCkgPT4ge1xyXG4gICAgICBzZXRjc3NDbGFzcygnZHJvcHpvbmUnKTtcclxuICAgIH0sXHJcbiAgICBvbkRyb3BBY2NlcHRlZDogKGV2ZW50KSA9PiB7XHJcbiAgICAgIHNldGNzc0NsYXNzKCdkcm9wem9uZScpO1xyXG4gICAgfSxcclxuICB9KTtcclxuXHJcbiAgY29uc3QgdGh1bWJzID0gICAgZmlsZXNcclxuICAgICYmICEhZmlsZXMubGVuZ3RoID4gMFxyXG4gICAgJiYgZmlsZXMubWFwKGZpbGUgPT4gKFxyXG4gICAgICA8ZGl2IGtleT17ZmlsZS5uYW1lfT5cclxuICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgPGltZyBzcmM9e2ZpbGUucHJldmlld30gLz5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICApKTtcclxuICBjb25zdCB7IGlkLCBmb3JtSUQsIGlzUmVxdWlyZWQgfSA9IHByb3BzO1xyXG5cclxuICB1c2VFZmZlY3QoXHJcbiAgICAoKSA9PiAoKSA9PiB7XHJcbiAgICAgIC8vIE1ha2Ugc3VyZSB0byByZXZva2UgdGhlIGRhdGEgdXJpcyB0byBhdm9pZCBtZW1vcnkgbGVha3NcclxuICAgICAgZmlsZXMuZm9yRWFjaChmaWxlID0+IFVSTC5yZXZva2VPYmplY3RVUkwoZmlsZS5wcmV2aWV3KSk7XHJcbiAgICB9LFxyXG4gICAgW2ZpbGVzXSxcclxuICApO1xyXG5cclxuICBjb25zdCB0ZXh0ID0gZHJvcHpvbmVUZXh0IHx8ICdEcmFnIFxcJ25cXCcgZHJvcCBzb21lIGZpbGVzIGhlcmUsIG9yIGNsaWNrIHRvIHNlbGVjdCBmaWxlcyc7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxyXG4gICAgICA8ZGl2XHJcbiAgICAgICAgey4uLmdldFJvb3RQcm9wcyh7XHJcbiAgICAgICAgICBjbGFzc05hbWU6IGNzc0NsYXNzLFxyXG4gICAgICAgIH0pfVxyXG4gICAgICA+XHJcbiAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICBpZD17YGlucHV0XyR7Zm9ybUlEfV8ke2lkfWB9XHJcbiAgICAgICAgICBuYW1lPXtgaW5wdXRfJHtpZH1gfVxyXG4gICAgICAgICAgdHlwZT1cImZpbGVcIlxyXG4gICAgICAgICAgcmVxdWlyZWQ9e2lzUmVxdWlyZWR9XHJcbiAgICAgICAgICB7Li4uZ2V0SW5wdXRQcm9wcygpfVxyXG4gICAgICAgIC8+XHJcbiAgICAgICAge3RodW1icyAmJiA8ZGl2IGNsYXNzTmFtZT1cInByZXZpZXdcIj57dGh1bWJzfTwvZGl2Pn1cclxuICAgICAgICA8cCBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IHRleHQgfX0gLz5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBBY2NlcHQ7XHJcbiJdfQ==