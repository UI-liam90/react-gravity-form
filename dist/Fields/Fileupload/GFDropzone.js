"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault"),_typeof=require("@babel/runtime/helpers/typeof");Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),_slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray")),_objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties")),_react=_interopRequireWildcard(require("react")),_reactDropzone=require("react-dropzone"),_uuid=require("uuid"),_excluded=["dropzoneText"];function _getRequireWildcardCache(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(_getRequireWildcardCache=function(a){return a?c:b})(a)}function _interopRequireWildcard(a,b){if(!b&&a&&a.__esModule)return a;if(null===a||"object"!==_typeof(a)&&"function"!=typeof a)return{default:a};var c=_getRequireWildcardCache(b);if(c&&c.has(a))return c.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if("default"!=f&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}return d["default"]=a,c&&c.set(a,d),d}function Accept(a){var b=a.dropzoneText,c=(0,_objectWithoutProperties2["default"])(a,_excluded),d=c.field,e=(d||[]).defaultValue,f=(0,_react.useState)(e?[e]:[]),g=(0,_slicedToArray2["default"])(f,2),h=g[0],i=g[1],j=(0,_react.useState)("dropzone"),k=(0,_slicedToArray2["default"])(j,2),l=k[0],m=k[1],n=(0,_react.useMemo)(function(){return(0,_uuid.v4)()},[]),o=(0,_reactDropzone.useDropzone)({accept:"image/*",onDrop:function onDrop(a){var b=c.id,d=c.formID,e=c.field,f=c.isRequired,g=c.updateForm,h=c.setTouched,j=c.unsetError;i(a.map(function(a){return Object.assign(a,{preview:URL.createObjectURL(a)})})),g(a,e),h(b),j(b)},onDragOver:function onDragOver(){m("dropzone over")},onDragLeave:function onDragLeave(){m("dropzone")},onDropAccepted:function onDropAccepted(){m("dropzone")}}),p=o.getRootProps,q=o.getInputProps,r=o.isDragActive,s=o.isDragAccept,t=o.isDragReject,u=h&&0<!!h.length&&h.map(function(a,b){return _react["default"].createElement("div",{key:"".concat(n,"_").concat(v,"_").concat(b)},_react["default"].createElement("div",null,_react["default"].createElement("img",{src:a.preview})))}),v=c.id,w=c.formID,x=c.isRequired;(0,_react.useEffect)(function(){return function(){h.forEach(function(a){return URL.revokeObjectURL(a.preview)})}},[h]);return _react["default"].createElement("div",{className:"container"},_react["default"].createElement("div",p({className:l}),_react["default"].createElement("input",(0,_extends2["default"])({id:"input_".concat(w,"_").concat(v),name:"input_".concat(v),type:"file",required:x},q())),u&&_react["default"].createElement("div",{className:"preview"},u),_react["default"].createElement("p",{dangerouslySetInnerHTML:{__html:b||"Drag 'n' drop some files here, or click to select files"}})))}var _default=Accept;exports["default"]=_default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJBY2NlcHQiLCJhIiwiZHJvcHpvbmVUZXh0IiwicHJvcHMiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyIiwiX2V4Y2x1ZGVkIiwiZmllbGQiLCJkZWZhdWx0VmFsdWUiLCJmIiwidXNlU3RhdGUiLCJnIiwiX3NsaWNlZFRvQXJyYXkyIiwiZmlsZXMiLCJzZXRGaWxlcyIsImoiLCJrIiwiY3NzQ2xhc3MiLCJzZXRjc3NDbGFzcyIsImlucHV0SUQiLCJ1c2VNZW1vIiwidjQiLCJvIiwidXNlRHJvcHpvbmUiLCJhY2NlcHQiLCJvbkRyb3AiLCJldmVudCIsImlkIiwiZm9ybUlEIiwiaXNSZXF1aXJlZCIsInVwZGF0ZUZvcm0iLCJzZXRUb3VjaGVkIiwidW5zZXRFcnJvciIsIm1hcCIsImZpbGUiLCJPYmplY3QiLCJhc3NpZ24iLCJwcmV2aWV3IiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwib25EcmFnT3ZlciIsIm9uRHJhZ0xlYXZlIiwib25Ecm9wQWNjZXB0ZWQiLCJnZXRSb290UHJvcHMiLCJnZXRJbnB1dFByb3BzIiwiaXNEcmFnQWN0aXZlIiwiaXNEcmFnQWNjZXB0IiwiaXNEcmFnUmVqZWN0IiwidGh1bWJzIiwibGVuZ3RoIiwiaSIsIl9yZWFjdCIsImNyZWF0ZUVsZW1lbnQiLCJrZXkiLCJjb25jYXQiLCJzcmMiLCJ1c2VFZmZlY3QiLCJmb3JFYWNoIiwicmV2b2tlT2JqZWN0VVJMIiwiY2xhc3NOYW1lIiwiX2V4dGVuZHMyIiwibmFtZSIsInR5cGUiLCJyZXF1aXJlZCIsImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MIiwiX19odG1sIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL0ZpZWxkcy9GaWxldXBsb2FkL0dGRHJvcHpvbmUuanN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVN0YXRlLCB1c2VNZW1vIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VEcm9wem9uZSB9IGZyb20gXCJyZWFjdC1kcm9wem9uZVwiO1xuaW1wb3J0IHsgdjQgfSBmcm9tIFwidXVpZFwiO1xuXG5mdW5jdGlvbiBBY2NlcHQoeyBkcm9wem9uZVRleHQsIC4uLnByb3BzIH0pIHtcbiAgY29uc3QgeyBmaWVsZCB9ID0gcHJvcHM7XG4gIGNvbnN0IHsgZGVmYXVsdFZhbHVlIH0gPSBmaWVsZCB8fCBbXTtcbiAgY29uc3QgW2ZpbGVzLCBzZXRGaWxlc10gPSB1c2VTdGF0ZShkZWZhdWx0VmFsdWUgPyBbZGVmYXVsdFZhbHVlXSA6IFtdKTtcbiAgY29uc3QgW2Nzc0NsYXNzLCBzZXRjc3NDbGFzc10gPSB1c2VTdGF0ZShcImRyb3B6b25lXCIpO1xuICBjb25zdCBpbnB1dElEID0gdXNlTWVtbygoKSA9PiB2NCgpLCBbXSk7XG4gIGNvbnN0IHtcbiAgICBnZXRSb290UHJvcHMsXG4gICAgZ2V0SW5wdXRQcm9wcyxcbiAgICBpc0RyYWdBY3RpdmUsXG4gICAgaXNEcmFnQWNjZXB0LFxuICAgIGlzRHJhZ1JlamVjdCxcbiAgfSA9IHVzZURyb3B6b25lKHtcbiAgICBhY2NlcHQ6IFwiaW1hZ2UvKlwiLFxuICAgIG9uRHJvcDogKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGlkLFxuICAgICAgICBmb3JtSUQsXG4gICAgICAgIGZpZWxkLFxuICAgICAgICBpc1JlcXVpcmVkLFxuICAgICAgICB1cGRhdGVGb3JtLFxuICAgICAgICBzZXRUb3VjaGVkLFxuICAgICAgICB1bnNldEVycm9yLFxuICAgICAgfSA9IHByb3BzO1xuICAgICAgc2V0RmlsZXMoXG4gICAgICAgIGV2ZW50Lm1hcCgoZmlsZSkgPT5cbiAgICAgICAgICBPYmplY3QuYXNzaWduKGZpbGUsIHtcbiAgICAgICAgICAgIHByZXZpZXc6IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSksXG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICAgIHVwZGF0ZUZvcm0oZXZlbnQsIGZpZWxkKTtcbiAgICAgIHNldFRvdWNoZWQoaWQpO1xuICAgICAgdW5zZXRFcnJvcihpZCk7XG4gICAgfSxcbiAgICBvbkRyYWdPdmVyOiAoZXZlbnQpID0+IHtcbiAgICAgIHNldGNzc0NsYXNzKFwiZHJvcHpvbmUgb3ZlclwiKTtcbiAgICB9LFxuICAgIG9uRHJhZ0xlYXZlOiAoZXZlbnQpID0+IHtcbiAgICAgIHNldGNzc0NsYXNzKFwiZHJvcHpvbmVcIik7XG4gICAgfSxcbiAgICBvbkRyb3BBY2NlcHRlZDogKGV2ZW50KSA9PiB7XG4gICAgICBzZXRjc3NDbGFzcyhcImRyb3B6b25lXCIpO1xuICAgIH0sXG4gIH0pO1xuXG4gIGNvbnN0IHRodW1icyA9XG4gICAgZmlsZXMgJiZcbiAgICAhIWZpbGVzLmxlbmd0aCA+IDAgJiZcbiAgICBmaWxlcy5tYXAoKGZpbGUsIGkpID0+IChcbiAgICAgIDxkaXYga2V5PXtgJHtpbnB1dElEfV8ke2lkfV8ke2l9YH0+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGltZyBzcmM9e2ZpbGUucHJldmlld30gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApKTtcbiAgY29uc3QgeyBpZCwgZm9ybUlELCBpc1JlcXVpcmVkIH0gPSBwcm9wcztcblxuICB1c2VFZmZlY3QoXG4gICAgKCkgPT4gKCkgPT4ge1xuICAgICAgLy8gTWFrZSBzdXJlIHRvIHJldm9rZSB0aGUgZGF0YSB1cmlzIHRvIGF2b2lkIG1lbW9yeSBsZWFrc1xuICAgICAgZmlsZXMuZm9yRWFjaCgoZmlsZSkgPT4gVVJMLnJldm9rZU9iamVjdFVSTChmaWxlLnByZXZpZXcpKTtcbiAgICB9LFxuICAgIFtmaWxlc11cbiAgKTtcblxuICBjb25zdCB0ZXh0ID1cbiAgICBkcm9wem9uZVRleHQgfHwgXCJEcmFnICduJyBkcm9wIHNvbWUgZmlsZXMgaGVyZSwgb3IgY2xpY2sgdG8gc2VsZWN0IGZpbGVzXCI7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgPGRpdlxuICAgICAgICB7Li4uZ2V0Um9vdFByb3BzKHtcbiAgICAgICAgICBjbGFzc05hbWU6IGNzc0NsYXNzLFxuICAgICAgICB9KX1cbiAgICAgID5cbiAgICAgICAgPGlucHV0XG4gICAgICAgICAgaWQ9e2BpbnB1dF8ke2Zvcm1JRH1fJHtpZH1gfVxuICAgICAgICAgIG5hbWU9e2BpbnB1dF8ke2lkfWB9XG4gICAgICAgICAgdHlwZT1cImZpbGVcIlxuICAgICAgICAgIHJlcXVpcmVkPXtpc1JlcXVpcmVkfVxuICAgICAgICAgIHsuLi5nZXRJbnB1dFByb3BzKCl9XG4gICAgICAgIC8+XG4gICAgICAgIHt0aHVtYnMgJiYgPGRpdiBjbGFzc05hbWU9XCJwcmV2aWV3XCI+e3RodW1ic308L2Rpdj59XG4gICAgICAgIDxwIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogdGV4dCB9fSAvPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFjY2VwdDtcbiJdLCJtYXBwaW5ncyI6Ijh4Q0FJQSxRQUFTLENBQUFBLE1BQU1BLENBQUFDLENBQUEsQ0FBNkIsSUFBMUIsQ0FBQUMsQ0FBWSxDQUFBRCxDQUFBLENBQVpDLFlBQVksQ0FBS0MsQ0FBSyxJQUFBQyx5QkFBQSxhQUFBSCxDQUFBLENBQUFJLFNBQUEsRUFDOUJDLENBQUssQ0FBS0gsQ0FBSyxDQUFmRyxLQUFLLENBQ0xDLENBQVksRUFBS0QsQ0FBSyxFQUFJLEVBQUUsRUFBNUJDLFlBQVksQ0FBQUMsQ0FBQSxDQUNNLEdBQUFDLGVBQVEsRUFBQ0YsQ0FBWSxDQUFHLENBQUNBLENBQVksQ0FBQyxDQUFHLEVBQUUsQ0FBQyxDQUFBRyxDQUFBLElBQUFDLGVBQUEsYUFBQUgsQ0FBQSxJQUEvREksQ0FBSyxDQUFBRixDQUFBLElBQUVHLENBQVEsQ0FBQUgsQ0FBQSxJQUFBSSxDQUFBLENBQ1UsR0FBQUwsZUFBUSxFQUFDLFVBQVUsQ0FBQyxDQUFBTSxDQUFBLElBQUFKLGVB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